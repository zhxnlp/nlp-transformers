# Python 全栈文档

## 第七章  Linux网络

#### 1、Linux网络配置文件

​        查看第一张网卡的网卡信息：

```bash
[root@localhost yum.repos.d]# cat vi /etc/sysconfig/network-scripts/ifcfg-ens33 
cat: vi: 没有那个文件或目录
TYPE=Ethernet（以太网类型）
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=static（是否自动获取ip，设为static时可在最后四行设定静态ip）
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33（网络接口的名字）
UUID=fe07c6dd-8437-474f-8c72-37f5555d754e（red网络标识编号，克隆时新系统要删除此项，自动分配新的）
DEVICE=ens33
ONBOOT=yes（是否开机自动启动网卡，yes就是开机自启）
IPADDR=192.168.0.150（此行是linux的虚拟网卡ip）（克隆后的系统此ip要改动，改最后一个数不一样就行）
NETMASK=255.255.255.0（子网掩码，固定值）
GATEWAY=192.168.0.1（默认网关，就是net设置里面的网关，不是虚拟网络设置主界面的值）
DNS1=192.168.0.1
每次修改之后要重启网卡设置：service network restart
```

| 配置                                        | 说明                                                         |
| ------------------------------------------- | ------------------------------------------------------------ |
| `DEVICE=eth0`                               | 网卡设备名，eth0表示第一张网卡                               |
| `BOOTPROTO=none`                            | none、static、为静态ip（自己手输）dhcp为动态获取ip           |
| `HWADDR=00:0C:29:11:30:39`                  | MAC地址                                                      |
| `NM_CONTROLLED=yes`                         | 是否可以由Network Manager图形管理工具托管                    |
| `ONBOOT=yes`                                | 是否随网络服务启动当前网卡生效（在CentOS 6 以上的版本中ONBOOT是默认关闭的。） |
| `TYPE=Ethernet`                             | 网络类型，这里为以太网                                       |
| `UUID=5ab36190-a5df-4bf1-94d8-6c126afd05f1` | 唯一识别码                                                   |
| `IPADDR=192.168.0.200`                      | IP地址                                                       |
| `NETMASK=255.255.255.0`                     | 子网掩码                                                     |
| `GATEWAY=192.168.0.1`                       | 网关                                                         |
| `DNS1=202.106.0.20`                         | DNS                                                          |
| `IPV6INIT=no`                               | IPv6是否启用，这里设置为不启用                               |
| `USERCTL=no`                                | 是否允许非root用户控制此网卡，这里为不允许                   |

说明： 1.自动获取IP的条件是：必须在局域网内存在DHCP服务器。 2.相同UUID网络配置的计算机会导致互相不能上网。

主机名文件

　　查看主机名文件：<font color='red'> xshell中输入hostname查看linux的主机名 </font>，<font color='red'> hostnamectl set-hostname修改主机名 </font>

```
[root@localhost yum.repos.d]# hostnamectl查看主机名
[root@192 user]（当前用户、当前主机名、当前目录）# hostnamectl
   Static hostname: localhost.localdomain（静态主机名）
Transient hostname: 192.168.116.129
         Icon name: computer-vm
           Chassis: vm
        Machine ID: 8f0ea2672c0643638fa0541ca5887b75
           Boot ID: 92a55843b7cc4374984b29d3ab1b1624
    Virtualization: vmware
  Operating System: CentOS Linux 7 (Core)
       CPE OS Name: cpe:/o:centos:centos:7
            Kernel: Linux 3.10.0-1127.el7.x86_64
      Architecture: x86-64

修改主机名：（不要有特殊符号、中文和大写）
hostnamectl set-hostname mylinux1
最好还要修改host
vi /etc/hosts
第三行写上linux的ip地址和主机名 ：192.168.23.3   mylinux1
重启之后主机名就更新了，重启命令init 6
```

DNS配置文件（DNS服务器地址，这个服务器就是把域名解析成ip地址）

　　查看DNS配置文件：

```
[root@localhost yum.repos.d]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 192.168.0.1（配置DNS服务器地址为路由器地址，也可以用网上公用的）
复制网上公开DNS地址，前面加ping来测试，连接时间少的最好
```

`nameserver`这一项，设置的是域名服务器的地址，多个域名服务器，则在后续添加空格继续补充域名服务器的地址，或者另起一行做类似的`nameserver`配置



防火墙设置：

```
查看防火墙状态： systemctl status firewalld.service

绿的running表示防火墙开启

执行关闭命令： systemctl stop firewalld.service

再次执行查看防火墙命令：systemctl status firewalld.service

执行开机禁用防火墙自启命令  ： systemctl disable firewalld.service
```

